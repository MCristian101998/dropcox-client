<div class="container">

    <div class="navigation">
        <app-navigation></app-navigation>
    </div>

    <div class="content"
        appUpload 
        (onFileDropped)="uploadFile($event)"
        (onDragEnter) = "onDragEnter($event)"
        (contextmenu) = "onRightClick($event)">
        
        <table mat-table [dataSource]="files" class="mat-elevation-z8">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->
          
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef class="nameColumn"> Name </th>
              <td mat-cell *matCellDef="let file">
                    <img src="{{file.image}}">
                   {{file.fileName}} 
                </td>
            </ng-container>
          
            <ng-container matColumnDef="owner">
              <th mat-header-cell *matHeaderCellDef> Owner </th>
              <td mat-cell *matCellDef="let element"> {{element.uploadedByUser}} </td>
            </ng-container>
          
            <ng-container matColumnDef="lastModified">
              <th mat-header-cell *matHeaderCellDef> Last Modified </th>
              <td mat-cell *matCellDef="let element"> {{element.modifiedDate}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr 
                mat-row 
                *matRowDef="let row; columns: displayedColumns;"
                (click) = "rowClick(row.id)"
                (dblclick) = "rowDoubleClick(row)"
                [ngClass] = "{'selected': selectedTableEntityId == row.id}"></tr>
          </table>

    </div>

    <div class="footer">
        <app-footer></app-footer>
    </div>
    
</div>

<div class="uploadingFile" *ngIf = "isInDrag">

    <div class="uploadingFileContainer">
        <div class="image">
            <img src = "/assets/images/upload.png">
        </div>
    
        <div class="text">
            <h4>Drop to upload.</h4>
        </div>
    </div>

</div>

<mat-menu 
    #options="matMenu"
    [overlapTrigger] = true
    [hasBackdrop] = false>
    <button mat-menu-item>
      <mat-icon>add</mat-icon>
      <span>Add Folder</span>
    </button>

</mat-menu>